# 海报导入工具使用说明

## 功能

1. **自动创建文件夹**：在 `poster` 文件夹下创建 `3：4` 文件夹
2. **自动分类**：从桌面 `Posters` 文件夹导入所有图片，根据尺寸自动分类到：
   - `poster/2：3/` - 2:3 比例（竖版）
   - `poster/3：4/` - 3:4 比例（竖版）
   - `poster/7：10/` - 7:10 比例（竖版）
3. **自动更新网站**：更新 `index.html`，动态加载所有海报

## 使用方法

### 方法 1：使用批处理文件（推荐，Windows）

1. 确保桌面上有 `Posters` 文件夹，里面包含要导入的图片
2. 双击运行 `处理海报.bat`
3. 等待处理完成

### 方法 2：手动运行 Python 脚本

```bash
# 步骤 1：导入图片
python import_posters.py

# 步骤 2：更新 HTML
python update_index_html.py
```

## 分类规则

脚本会根据图片的宽高比自动分类：

- **2:3 比例**：宽高比 ≈ 0.6667（允许 ±5% 误差）
- **3:4 比例**：宽高比 ≈ 0.75（允许 ±5% 误差）
- **7:10 比例**：宽高比 ≈ 0.7（允许 ±5% 误差）

如果图片比例不匹配以上任何比例，会被标记为"未分类"，但不会被复制。

## 输出结果

- 图片会被复制到对应的文件夹（不会删除原文件）
- 如果文件名冲突，会自动添加序号（如 `image_1.jpg`）
- 生成统计信息文件：`poster/posters_stats.json`
- 更新 `index.html`，自动展示所有海报

## 注意事项

1. **确保 Pillow 已安装**：
   ```bash
   pip install pillow
   ```

2. **支持的图片格式**：
   - `.jpg` / `.jpeg`
   - `.png`
   - `.gif`
   - `.bmp`
   - `.webp`

3. **路径要求**：
   - 桌面上的文件夹名称必须是 `Posters`（区分大小写）
   - 项目根目录下必须有 `poster` 文件夹

4. **备份**：
   - 更新 `index.html` 前会自动备份为 `index.html.bak`

## 故障排除

### 问题 1：找不到桌面 Posters 文件夹

**解决**：确保桌面上有名为 `Posters` 的文件夹，且包含图片文件

### 问题 2：Pillow 未安装

**解决**：
```bash
pip install pillow
```

### 问题 3：图片未被分类

**原因**：图片比例不在 2:3、3:4、7:10 范围内

**解决**：
- 检查图片尺寸
- 如果确实需要这些图片，可以手动调整图片尺寸或修改脚本中的容差值

### 问题 4：index.html 更新失败

**解决**：
- 检查 `index.html` 文件是否存在
- 检查文件是否有写入权限
- 查看错误信息，可能需要手动更新 HTML

## 文件结构

处理后的文件结构：

```
AIGC-jubianage/
├── poster/
│   ├── 2：3/
│   │   ├── image1.jpg
│   │   └── ...
│   ├── 3：4/
│   │   ├── image1.jpg
│   │   └── ...
│   ├── 7：10/
│   │   ├── image1.jpg
│   │   └── ...
│   └── posters_stats.json
├── index.html (已更新)
└── index.html.bak (备份)
```

## 网站展示

更新后的 `index.html` 会自动：
- 按顺序展示所有海报（2:3 → 3:4 → 7:10）
- 每个海报显示为流动卡片
- 自动生成标题和描述

访问 `https://aigc-jubianage.vercel.app/` 即可看到更新后的海报展示。

