# æœåŠ¡å™¨ä¸Šéœ€è¦æ‰§è¡Œçš„å‘½ä»¤

## ğŸ“‹ å½“å‰çŠ¶æ€
- âœ… å·²è¿æ¥åˆ°æœåŠ¡å™¨ï¼ˆubuntu@119.45.121.152ï¼‰
- âœ… å·²æ‰§è¡Œ `bash /tmp/deploy-to-server.sh`ï¼ˆç¯å¢ƒå®‰è£…ï¼‰

---

## ğŸ” æ£€æŸ¥ç¯å¢ƒå®‰è£…æ˜¯å¦æˆåŠŸ

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# æ£€æŸ¥ Node.js
node -v
npm -v

# æ£€æŸ¥ PM2
pm2 -v

# æ£€æŸ¥ Nginx
nginx -v

# æ£€æŸ¥ Git
git --version
```

å¦‚æœæ‰€æœ‰å‘½ä»¤éƒ½æœ‰è¾“å‡ºï¼Œè¯´æ˜ç¯å¢ƒå®‰è£…æˆåŠŸï¼

---

## ğŸ“¤ ä¸‹ä¸€æ­¥ï¼šä¸Šä¼ ä»£ç 

**é‡è¦ï¼š** PowerShell è„šæœ¬ï¼ˆ`.ps1`ï¼‰åº”è¯¥åœ¨ **Windows** ä¸Šæ‰§è¡Œï¼Œä¸æ˜¯åœ¨æœåŠ¡å™¨ä¸Šï¼

### åœ¨ Windows PowerShell ä¸­æ‰§è¡Œï¼ˆæ–°å¼€ä¸€ä¸ªçª—å£ï¼‰ï¼š

```powershell
cd C:\Users\Administrator\Desktop\AIGC-jubianage-agent
.\upload-to-server.ps1
```

æˆ–è€…æ‰‹åŠ¨ä¸Šä¼ ï¼š

```powershell
# æ–¹æ³•1ï¼šä½¿ç”¨ tar å‹ç¼©ä¸Šä¼ ï¼ˆæ¨èï¼Œæ›´å¿«ï¼‰
cd C:\Users\Administrator\Desktop\AIGC-jubianage-agent
tar --exclude='node_modules' --exclude='.git' --exclude='dist' -czf deploy.tar.gz .
scp deploy.tar.gz ubuntu@119.45.121.152:/tmp/
ssh ubuntu@119.45.121.152 "cd /var/www/aigc-agent && tar -xzf /tmp/deploy.tar.gz && rm /tmp/deploy.tar.gz"
Remove-Item deploy.tar.gz

# æ–¹æ³•2ï¼šä½¿ç”¨ scp ä¸Šä¼ æ•´ä¸ªç›®å½•ï¼ˆè¾ƒæ…¢ï¼‰
scp -r --exclude=node_modules --exclude=.git --exclude=dist * ubuntu@119.45.121.152:/var/www/aigc-agent/
```

---

## âš™ï¸ é…ç½®ç¯å¢ƒå˜é‡

ä»£ç ä¸Šä¼ åï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
cd /var/www/aigc-agent/server
cp env.example .env
nano .env
```

é…ç½®å¿…éœ€é¡¹åä¿å­˜ï¼ˆCtrl+O â†’ Enter â†’ Ctrl+Xï¼‰

---

## ğŸš€ éƒ¨ç½²åº”ç”¨

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
cd /var/www/aigc-agent

# ä¸Šä¼ éƒ¨ç½²è„šæœ¬ï¼ˆåœ¨ Windows PowerShell ä¸­æ‰§è¡Œï¼‰
# scp deploy-app.sh setup-nginx.sh ubuntu@119.45.121.152:/var/www/aigc-agent/

# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œéƒ¨ç½²
chmod +x deploy-app.sh setup-nginx.sh
bash deploy-app.sh
bash setup-nginx.sh
```

---

## ğŸ“ å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] ç¯å¢ƒå®‰è£…å®Œæˆï¼ˆNode.js, PM2, Nginx, Gitï¼‰
- [ ] ä»£ç å·²ä¸Šä¼ åˆ° `/var/www/aigc-agent`
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆ`server/.env`ï¼‰
- [ ] åº”ç”¨å·²éƒ¨ç½²ï¼ˆ`bash deploy-app.sh`ï¼‰
- [ ] Nginx å·²é…ç½®ï¼ˆ`bash setup-nginx.sh`ï¼‰
- [ ] SSL è¯ä¹¦å·²é…ç½®ï¼ˆå¯é€‰ï¼‰

